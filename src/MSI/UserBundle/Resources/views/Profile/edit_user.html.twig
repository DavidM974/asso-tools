{% trans_default_domain 'FOSUserBundle' %}
{% extends "MSIUserBundle::layout.html.twig" %}


{% block fos_user_content %}

        <link href="{{ asset('public/pages/css/profile.min.css') }}" rel="stylesheet" type="text/css" />


<div class="row">
    <div class="col-md-12">
        <!-- BEGIN PROFILE SIDEBAR -->
        <div class="profile-sidebar">
            <!-- PORTLET MAIN -->
            <div class="portlet light profile-sidebar-portlet ">
                <!-- SIDEBAR USERPIC -->
                <div class="profile-userpic">
                    <img src="{{ asset('public/pages/media/profile/profile_user.jpg') }}" class="img-responsive" alt=""> </div>
                <!-- END SIDEBAR USERPIC -->
                <!-- SIDEBAR USER TITLE -->
                <div class="profile-usertitle">
                    <div class="profile-usertitle-name">  </div>
                    <div class="profile-usertitle-job"> Developer </div>
                </div>
                <!-- END SIDEBAR USER TITLE -->
                <!-- SIDEBAR BUTTONS -->
                <div class="profile-userbuttons">
                    <button type="button" class="btn btn-circle green btn-sm">Follow</button>
                    <button type="button" class="btn btn-circle red btn-sm">Message</button>
                </div>
                <!-- END SIDEBAR BUTTONS -->
                <!-- SIDEBAR MENU -->
                <div class="profile-usermenu">
                    <ul class="nav">
                        <li class="active">
                            <a href="page_user_profile_1_account.html">
                                <i class="icon-settings"></i> {{ 'msi.user.edit.accountSetting'|trans({}, 'Profile') }} </a>
                        </li>
                    </ul>
                </div>
                <!-- END MENU -->
            </div>
            <!-- END PORTLET MAIN -->
        </div>
        <!-- END BEGIN PROFILE SIDEBAR -->
        <!-- BEGIN PROFILE CONTENT -->
        <div class="profile-content">
            <div class="row">
                <div class="col-md-12">
                    <div class="portlet light ">
                        <div class="portlet-title tabbable-line">
                            <div class="caption caption-md">
                                <i class="icon-globe theme-font hide"></i>
                                <span class="caption-subject font-blue-madison bold uppercase">{{ 'msi.user.edit.formTitle'|trans({}, 'Profile') }}</span>
                            </div>
                            <ul class="nav nav-tabs">
                                <li class="active">
                                    <a href="#tab_1_1" data-toggle="tab">{{ 'msi.user.edit.personalInfo'|trans({}, 'Profile') }}</a>
                                </li>
                                <li>
                                    <a href="#tab_1_2" data-toggle="tab">{{ 'msi.user.edit.avatar'|trans({}, 'Profile') }}</a>
                                </li>
                                <li>
                                    <a href="#tab_1_3" data-toggle="tab">{{ 'msi.user.edit.changePassword'|trans({}, 'Profile') }}</a>
                                </li>
                            </ul>
                        </div>
                        {% for message in app.session.flashbag.get('info_user_edit') %}
                            <div class="col-md-6">
                                <div class="alert alert-success alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>
                                    <strong>{{ 'msi.user.register.flash'|trans({}, 'Register') }}</strong> {{ message }}
                                </div>
                            </div>
                        {% endfor %}
                        <div class="portlet-body">
                            <div class="tab-content">
                                <!-- PERSONAL INFO TAB -->
                                <div class="tab-pane active" id="tab_1_1">
                                    {{ form_start(form, { 'action': path('msi_user_admin_edit_user', {'id': userToEdit.id}), 'attr': { 'role': 'form' } }, form_enctype(form)) }}
                                        <div class="form-group">
                                            {{ form_errors(form.username) }}
                                            {{ form_label(form.username, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.username, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.email) }}
                                            {{ form_label(form.email, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.email, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.lastname) }}
                                            {{ form_label(form.lastname, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.lastname, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {# les erreurs du formulaire #}
                                            {{ form_errors(form.firstname) }}
                                             {# Génération du label. #}
                                            {{ form_label(form.firstname, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.firstname, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.roles) }}
                                            {{ form_label(form.roles, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.roles, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.civility) }}
                                            {{ form_label(form.civility, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.civility, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.birth) }}
                                            {{ form_label(form.birth, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.birth, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.address) }}
                                            {{ form_label(form.address, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.address, {'attr': {'class': 'form-control ','rows': '3'}}) }}
                                        </div>
                                        <div class="form-group {% if not form.phone.vars.valid %} has-error{% endif %}">
                                            {{ form_label(form.phone, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {% if not form.phone.vars.valid %}
                                                <div class="input-icon right">
                                                    <i class="fa fa-exclamation tooltips" data-original-title="{{ 'msi.user.profile.phone.not_blank'|trans({}, 'validators') }}" data-container="body"></i>
                                                    {{ form_widget(form.phone, {'attr': {'class': 'form-control '}}) }} 
                                                </div>
                                                <span class="help-block">
                                                    {{ form_errors(form.phone) }}
                                                </span>
                                            {% else %}
                                                    {{ form_widget(form.phone, {'attr': {'class': 'form-control '}}) }}
                                            {% endif %}
                                            
                                        </div>
                                        <div class="form-group">
                                            {{ form_errors(form.mobile) }}
                                            {{ form_label(form.mobile, null , {'label_attr': {'class': 'control-label'}}) }}
                                            {{ form_widget(form.mobile, {'attr': {'class': 'form-control '}}) }}
                                        </div>
                                        <div class="margiv-top-10">
                                            {{ form_widget(form.update, {'attr': {'class': 'btn green '}}) }}
                                        </div>
                                    {{ form_end(form) }}
                                </div>
                                <!-- END PERSONAL INFO TAB -->
                                <!-- CHANGE AVATAR TAB -->
                                <div class="tab-pane" id="tab_1_2">
                                    <p> Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum
                                        eiusmod. </p>
                                    <form action="#" role="form">
                                        <div class="form-group">
                                            <div class="fileinput fileinput-new" data-provides="fileinput">
                                                <div class="fileinput-new thumbnail" style="width: 200px; height: 150px;">
                                                    <img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&amp;text=no+image" alt="" /> </div>
                                                <div class="fileinput-preview fileinput-exists thumbnail" style="max-width: 200px; max-height: 150px;"> </div>
                                                <div>
                                                    <span class="btn default btn-file">
                                                        <span class="fileinput-new"> Select image </span>
                                                        <span class="fileinput-exists"> Change </span>
                                                        <input type="file" name="..."> </span>
                                                    <a href="javascript:;" class="btn default fileinput-exists" data-dismiss="fileinput"> Remove </a>
                                                </div>
                                            </div>
                                            <div class="clearfix margin-top-10">
                                                <span class="label label-danger">NOTE! </span>
                                                <span>Attached image thumbnail is supported in Latest Firefox, Chrome, Opera, Safari and Internet Explorer 10 only </span>
                                            </div>
                                        </div>
                                        <div class="margin-top-10">
                                            <a href="javascript:;" class="btn green"> Submit </a>
                                            <a href="javascript:;" class="btn default"> Cancel </a>
                                        </div>
                                    </form>
                                </div>
                                <!-- END CHANGE AVATAR TAB -->
                                <!-- CHANGE PASSWORD TAB -->
                                <div class="tab-pane" id="tab_1_3">
                                    <form action="#">
                                        <div class="form-group">
                                            <label class="control-label">Current Password</label>
                                            <input type="password" class="form-control" /> </div>
                                        <div class="form-group">
                                            <label class="control-label">New Password</label>
                                            <input type="password" class="form-control" /> </div>
                                        <div class="form-group">
                                            <label class="control-label">Re-type New Password</label>
                                            <input type="password" class="form-control" /> </div>
                                        <div class="margin-top-10">
                                            <a href="javascript:;" class="btn green"> Change Password </a>
                                            <a href="javascript:;" class="btn default"> Cancel </a>
                                        </div>
                                    </form>
                                </div>
                                <!-- END CHANGE PASSWORD TAB -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END PROFILE CONTENT -->
    </div>
</div>

              <script src="{{ asset('public/global/scripts/app.min.js') }}" type="text/javascript"></script>  
        <script src="{{ asset('public/pages/scripts/profile.min.js') }}" type="text/javascript"></script>
        {% endblock fos_user_content %}